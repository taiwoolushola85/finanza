"use strict";var drake;$((function(){var e="rtl"===$("html").attr("dir")?"rtl":"ltr";$("#leadSource").select2({dir:e,dropdownAutoWidth:!0,dropdownParent:$("#addLeadModal")}),$("#leadStatus").select2({dir:e,dropdownAutoWidth:!0,dropdownParent:$("#addLeadModal")})}));var tasks_list=[document.getElementById("todo-task"),document.getElementById("inProgress-task"),document.getElementById("review-task"),document.getElementById("complete-task")];if((tasks_list=tasks_list.filter((function(e){return null!==e}))).length>0){e();var myModalEl=document.getElementById("deleteRecordModal");function e(){drake&&drake.destroy(),drake=dragula(tasks_list,{moves:function(e,t,a){return e.classList.contains("tasks-box")}}).on("drag",(function(e){e.classList.remove("ex-moved"),e.classList.add("dragging")})).on("drop",(function(e,a,d,r){e.classList.remove("dragging"),e.classList.add("ex-moved"),setTimeout((function(){t()}),100)})).on("over",(function(e,t){t&&t.classList.add("ex-over")})).on("out",(function(e,t){t&&t.classList.remove("ex-over")})).on("cancel",(function(e,a,d){t()}))}function t(){document.querySelectorAll("#kanbanboard .tasks-list").forEach((function(e){var t=e.querySelector(".tasks");(t?t.querySelectorAll(".tasks-box"):[]).length>0?t.classList.remove("noTask"):t.classList.add("noTask")}))}myModalEl&&myModalEl.addEventListener("show.bs.modal",(function(e){document.getElementById("delete-record").addEventListener("click",(function(){e.relatedTarget.closest(".tasks-box").remove(),document.getElementById("delete-btn-close").click(),t()}))}));var kanbanboard=document.querySelector("#kanbanboard");if(kanbanboard&&"undefined"!=typeof autoScroll)var scroll=autoScroll([kanbanboard],{margin:20,maxSpeed:100,scrollWhenOutside:!0,autoScroll:function(){return this.down&&drake&&drake.dragging}});var addNewBoard=document.getElementById("addNewBoard");if(addNewBoard){function a(){var a=document.getElementById("boardName").value.trim();if(a){var d=Math.floor(1e4*Math.random()),r="remove_item_"+d,n="task_"+d,o="dropdown_"+d,l='<div class="tasks-list" id="'+r+'"><div class="d-flex align-items-center mb-3 px-4 py-3 bg-body-secondary rounded"><div class="flex-grow-1"><h6 class="fs-14 text-capitalize fw-semibold mb-0">'+a+'</h6></div><div class="dropdown"><a class="text-body" href="#" id="'+o+'" data-bs-toggle="dropdown" aria-expanded="false"><i data-eva="more-vertical-outline" class="size-4"></i></a><ul class="dropdown-menu dropdown-menu-end" aria-labelledby="'+o+'"><li><a class="dropdown-item" href="#!">View</a></li><li><a class="dropdown-item" href="#!">Edit</a></li><li><a class="dropdown-item delete-board" href="#!" data-board-id="'+r+'">Delete</a></li></ul></div></div><div data-simplebar class="px-3 mx-n3"><div class="tasks" id="'+n+'"></div></div><div class="my-4"><button class="btn btn-label-info w-100" data-bs-toggle="modal" data-bs-target="#creatertaskModal">Add More</button></div></div>';document.getElementById("kanbanboard").insertAdjacentHTML("beforeend",l);var s=document.getElementById(o);s&&"undefined"!=typeof bootstrap&&new bootstrap.Dropdown(s);var i=document.querySelector('[data-board-id="'+r+'"]');i&&i.addEventListener("click",(function(a){if(a.preventDefault(),confirm("Are you sure you want to delete this board?")){var d=document.getElementById(r);if(d){var o=document.getElementById(n),l=tasks_list.indexOf(o);l>-1&&tasks_list.splice(l,1),d.remove(),e(),t()}}})),"undefined"!=typeof eva&&eva.replace();var c=document.getElementById(n);c&&(tasks_list.push(c),e());var m=document.getElementById("addBoardBtn-close");m&&m.click(),document.getElementById("boardName").value="",t()}else alert("Please enter a board name")}addNewBoard.addEventListener("click",a)}var addMember=document.getElementById("addMember");if(addMember){addMember.addEventListener("click",d);var profileField=document.getElementById("profileimgInput");function d(){var e=document.getElementById("firstnameInput"),t=e?e.value.trim():"";if(t){var a=window.tempMemberProfile||'<div class="avatar-xs bg-primary rounded-circle d-flex align-items-center justify-content-center"><span class="text-white">'+t.charAt(0).toUpperCase()+"</span></div>",d='<a href="javascript: void(0);" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="'+t+'">'+a+"</a>",r=document.getElementById("newMembar");r&&r.insertAdjacentHTML("afterbegin",d);var n=document.getElementById("btn-close-member");n&&n.click(),e&&(e.value=""),window.tempMemberProfile=null}else alert("Please enter a first name")}profileField&&profileField.addEventListener("change",(function(e){var t=this.files[0];if(t){var a=new FileReader;a.onload=function(){var e='<img src="'+a.result+'" alt="profile" class="rounded-circle avatar-xs">';window.tempMemberProfile=e},a.readAsDataURL(t)}}))}t()}function getChartColorsArray(e){var t=document.getElementById(e);if(null!==t){var a=t.getAttribute("data-colors");if(a)return(a=JSON.parse(a)).map((function(e){var t=e.replace(" ","");if(-1===t.indexOf(","))return getComputedStyle(document.documentElement).getPropertyValue(t)||t;var a=e.split(",");return 2==a.length?"rgba("+getComputedStyle(document.documentElement).getPropertyValue(a[0])+","+a[1]+")":t}))}return[]}